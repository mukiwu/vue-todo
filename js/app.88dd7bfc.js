(function(t){function e(e){for(var n,i,r=e[0],l=e[1],c=e[2],d=0,f=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,r=1;r<s.length;r++){var l=s[r];0!==o[l]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},o={app:0},a=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/vue-todo/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),o=s("5c96"),a=s.n(o),i=(s("0fae"),s("0ff2")),r=s("11c8"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav",[s("section",[s("ul",[s("li",[s("router-link",{attrs:{to:"/"}},[t._v("My Tasks")])],1),s("li",[s("router-link",{attrs:{to:"/progress"}},[t._v("In Progress")])],1),s("li",[s("router-link",{attrs:{to:"/complete"}},[t._v("Completed")])],1)])])]),s("section",[s("router-view")],1)])},c=[],u=(s("8049"),{}),d=u,f=s("2877"),p=Object(f["a"])(d,l,c,!1,null,null,null),m=p.exports,h=s("8c4f"),_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[s("div",{staticClass:"form__input"},[t.todoShow?t._e():s("input",{attrs:{type:"text",placeholder:"+ 新增一個待辦事項",required:""},on:{click:function(e){t.todoShow=!0}}}),t.todoShow?s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],attrs:{type:"text",placeholder:"請在此輸入標題"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}):t._e()]),t.todoShow?s("div",{staticClass:"form__content"},[s("el-form-item",{attrs:{label:"到期日"}},[s("el-date-picker",{attrs:{type:"datetime",placeholder:"選擇日期時間"},model:{value:t.form.deadline,callback:function(e){t.$set(t.form,"deadline",e)},expression:"form.deadline"}})],1),s("el-form-item",{attrs:{label:"詳細內容"}},[s("el-input",{attrs:{type:"textarea"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1):t._e(),t.todoShow?s("div",{staticClass:"form__action"},[s("el-button-group",[s("el-button",{on:{click:function(e){t.todoShow=!1}}},[t._v("X 取消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.onAddList}},[t._v("+ 新增清單")])],1)],1):t._e()]),s("lists",{attrs:{lists:t.lists}})],1)},k=[],v=s("59ca"),b=s.n(v),y=(s("e71f"),b.a.initializeApp({projectId:"vue-todo-2f323",databaseURL:"https://vue-todo-2f323.firebaseio.com"}).firestore()),w=b.a.firestore,g=(w.Timestamp,w.GeoPoint,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"lists"},t._l(t.lists,(function(t,e){return s("li",{key:e,class:{status_star:t.status_star}},[s("TaskView",{attrs:{task:t}})],1)})),0)}),x=[],S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.listShow?s("div",{staticClass:"lists__data"},[s("div",{staticClass:"lists__hr"},[s("el-checkbox",{on:{change:function(e){return t.onCompleted()}},model:{value:t.task.status_checked,callback:function(e){t.$set(t.task,"status_checked",e)},expression:"task.status_checked"}},[s("h2",{staticClass:"lists__title"},[t._v(t._s(t.task.title))])]),t.task.status_star?s("el-button",{attrs:{type:"warning",icon:"el-icon-star-on",circle:""},on:{click:function(e){return t.onStarSwitch()}},model:{value:t.task.status_star,callback:function(e){t.$set(t.task,"status_star",e)},expression:"task.status_star"}}):t._e(),t.task.status_star?t._e():s("el-button",{attrs:{type:"warning",icon:"el-icon-star-off",circle:""},on:{click:function(e){return t.onStarSwitch()}},model:{value:t.task.status_star,callback:function(e){t.$set(t.task,"status_star",e)},expression:"task.status_star"}}),s("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(e){return t.onEditBtn()}}}),s("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(e){return t.onDelete()}}})],1),s("p",{staticClass:"lists__content",domProps:{innerHTML:t._s(t.$options.filters.break(t.task.content))}}),s("i",{staticClass:"el-icon-alarm-clock lists__time"},[t._v(t._s(t._f("dateFormat")(t._f("timeStamp")(t.task.deadline),"YYYY.MM.DD HH:mm")))])]):t._e(),t.listShow?t._e():s("div",{staticClass:"lists__edit"},[s("el-form",{ref:"editForm",attrs:{"label-width":"80px"}},[s("el-form-item",{attrs:{label:"標題"}},[s("el-input",{attrs:{type:"text",placeholder:"請在此輸入標題"},model:{value:t.task.title,callback:function(e){t.$set(t.task,"title",e)},expression:"task.title"}})],1),s("el-form-item",{attrs:{label:"到期日"}},[s("el-date-picker",{attrs:{type:"datetime",placeholder:"選擇日期時間"},model:{value:t.deadlineConvert,callback:function(e){t.deadlineConvert=e},expression:"deadlineConvert"}})],1),s("el-form-item",{attrs:{label:"詳細內容"}},[s("el-input",{attrs:{type:"textarea"},model:{value:t.task.content,callback:function(e){t.$set(t.task,"content",e)},expression:"task.content"}})],1)],1),s("div",{staticStyle:{"text-align":"center"}},[s("el-button-group",[s("el-button",{on:{click:function(e){t.listShow=!0}}},[t._v("取消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onEdit()}}},[t._v("修改")])],1)],1)],1)])},$=[],C=(s("ac1f"),s("5319"),{filters:{timeStamp:function(t){return new Date(1e3*t.seconds)},break:function(t){return t.replace(/\n|\r\n/g,"<br/>")}}}),O={name:"TaskView",data:function(){return{listShow:!0,deadlineConvert:null,taskID:this.task.id}},mixins:[y,C],props:{task:Object},methods:{deadline:function(t){return this.deadlineConvert=new Date(1e3*t.seconds)},onCompleted:function(){var t=this;y.collection("lists").doc(this.taskID).update({status_checked:this.task.status_checked}).then((function(){!0===t.task.status_checked?t.$message("任務完成"):t.$message("取消任務完成")}))},onStarSwitch:function(){var t=this;this.task.status_star=!this.task.status_star,y.collection("lists").doc(this.taskID).update({status_star:this.task.status_star}).then((function(){!0===t.task.status_star?t.$message("標記成功"):t.$message("取消標記成功")}))},onDelete:function(){var t=this;this.$confirm("此操作會永久刪除該筆待辦清單，是否繼續？","提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then((function(){y.collection("lists").doc(t.taskID).delete().then((function(){t.$message({type:"success",message:"刪除成功"})}))})).catch((function(){t.$message({type:"info",message:"已取消刪除"})}))},onEditBtn:function(){this.listShow=!1;var t=this.task.deadline;this.deadline(t)},onEdit:function(){var t=this;y.collection("lists").doc(this.taskID).update({title:this.task.title,deadline:this.deadlineConvert,content:this.task.content,modify_time:new Date}).then((function(){t.$message("修改成功"),t.listShow=!0}))}}},j=O,D=Object(f["a"])(j,S,$,!1,null,null,null),P=D.exports,T={components:{TaskView:P},props:{lists:Array},mounted:function(){console.log(this.lists)}},E=T,M=Object(f["a"])(E,g,x,!1,null,null,null),B=M.exports,I={name:"Home",components:{lists:B},data:function(){return{todoShow:!1,form:{title:null,deadline:null,content:null},lists:[]}},firestore:{lists:y.collection("lists").orderBy("create_time","asc")},methods:{onAddList:function(){var t=this,e={title:this.form.title,deadline:this.form.deadline,content:this.form.content,create_time:new Date,status_checked:!1,status_star:!1};this.resetForm(),y.collection("lists").doc().set(e).then((function(){t.$message("新增成功")}))},resetForm:function(){this.todoShow=!1,this.form={}}}},H=I,A=Object(f["a"])(H,_,k,!1,null,null,null),F=A.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"progress"},[0===t.lists.length?s("div",[s("el-divider"),s("el-alert",{attrs:{title:"沒有進行中的待辦事項",type:"info",effect:"dark",closable:!1,center:""}})],1):t._e(),s("lists",{attrs:{lists:t.lists}})],1)},Y=[],V={name:"Progress",components:{lists:B},data:function(){return{lists:[]}},firestore:{lists:y.collection("lists").where("status_checked","==",!1).orderBy("create_time","asc")}},J=V,q=Object(f["a"])(J,L,Y,!1,null,null,null),z=q.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"complete"},[0===t.lists.length?s("div",[s("el-divider"),s("el-alert",{attrs:{title:"尚未有完成的待辦事項",type:"info",effect:"dark",closable:!1,center:""}})],1):t._e(),s("lists",{attrs:{lists:t.lists}})],1)},N=[],R={name:"Complete",components:{lists:B},data:function(){return{lists:[]}},firestore:{lists:y.collection("lists").where("status_checked","==",!0).orderBy("create_time","asc")}},U=R,X=Object(f["a"])(U,G,N,!1,null,null,null),K=X.exports;n["default"].use(h["a"]);var Q=[{path:"/",name:"Home",component:F},{path:"/progress",name:"Progress",component:z},{path:"/complete",name:"Complete",component:K}],W=new h["a"]({mode:"history",base:"/vue-todo/",routes:Q}),Z=W,tt=s("2f62");n["default"].use(tt["a"]);var et=new tt["a"].Store({state:{},mutations:{},actions:{},modules:{}});n["default"].config.productionTip=!1,n["default"].use(i["a"]),n["default"].use(a.a),n["default"].use(r["a"]),new n["default"]({router:Z,store:et,render:function(t){return t(m)}}).$mount("#app")},8049:function(t,e,s){}});
//# sourceMappingURL=app.88dd7bfc.js.map